(this.webpackJsonpminesweeper_react=this.webpackJsonpminesweeper_react||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(31),s=n.n(c),i=(n(37),n(13)),u=n(3),o=(n(38),n(0));function j(){var e=Object(u.f)();return Object(o.jsx)("button",{type:"button",onClick:function(){localStorage.removeItem("authorization"),e.push("/")},children:"Logout"})}var l=n(12),b=n(11),p=n(2),d=n.n(p),O=n(4),h=n(10);function x(e){var t,n,a=Object(u.f)();return Object(o.jsx)("button",{type:"button",onClick:null!==(t=e.handleClick)&&void 0!==t?t:function(){a.push(e.path)},children:null!==(n=e.message)&&void 0!==n?n:"Go Back"})}var m=n(16),f=n.n(m),v=function(){return{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",authorization:localStorage.getItem("authorization")}},g=function(){var e=Object(O.a)(d.a.mark((function e(t,n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://still-brushlands-88515.herokuapp.com"+t,{headers:v(),params:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(d.a.mark((function e(t,n,a,r){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=f.a.post("https://still-brushlands-88515.herokuapp.com"+t,n,{headers:v()}).then((function(e){return console.log(JSON.stringify(e)),{data:e.data,status:e.status}})).catch((function(e){return console.log(e),e})),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(d.a.mark((function e(t,n,a,r){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=f.a.patch("https://still-brushlands-88515.herokuapp.com"+t,n,{headers:v()}).then((function(e){return console.log(JSON.stringify(e)),{data:e.data,status:e.status}})).catch((function(e){return console.log(e),e})),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();function y(){var e=Object(a.useState)({rows:0,columns:0,amountOfMines:0}),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(u.f)(),s=function(){var e=Object(O.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("/api/games",n);case 2:(null===(a=e.sent)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.gameId)&&c.push("/minesweeper/".concat(a.data.gameId));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function i(e){var t=e.target.value;r(Object(b.a)(Object(b.a)({},n),{},Object(l.a)({},e.target.name,Number(t))))}return Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Rows",Object(o.jsx)("input",{type:"number",name:"rows",value:n.rows,onChange:i})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Columns",Object(o.jsx)("input",{type:"number",name:"columns",value:n.columns,onChange:i})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Amount of mines",Object(o.jsx)("input",{type:"number",name:"amountOfMines",value:n.amountOfMines,onChange:i})]}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"button",onClick:s,children:"New Game"}),Object(o.jsx)("br",{}),Object(o.jsx)(x,{path:"/saved-games",message:"Load Game"})]})}function C(){var e=Object(u.f)(),t=Object(a.useState)({email:"",password:""}),n=Object(h.a)(t,2),r=n[0],c=n[1];function s(){return(s=Object(O.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w("/api/user/login",Object(b.a)({},r));case 2:(null===(a=t.sent)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.authorization)&&(localStorage.setItem("authorization",a.data.authorization),e.push("/menu"));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(e){var t=e.target.value;c(Object(b.a)(Object(b.a)({},r),{},Object(l.a)({},e.target.name,t)))}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("form",{children:[Object(o.jsxs)("label",{children:["Email:",Object(o.jsx)("input",{type:"text",name:"email",value:r.email,onChange:i})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Password:",Object(o.jsx)("input",{type:"password",name:"password",value:r.password,onChange:i})]}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"button",onClick:function(){return s.apply(this,arguments)},children:"Log In"})]}),Object(o.jsx)("br",{}),Object(o.jsx)(x,{path:"/registry",message:"Sign Up"})]})}var S,F;n(21);!function(e){e.Flagged="Flagged",e.Checked="Checked",e.Question="Question",e.Unchecked="Unchecked"}(S||(S={})),function(e){e.InProgress="InProgress",e.Stopped="Stopped",e.Won="Won",e.Lost="Lost"}(F||(F={}));function I(e){var t={x:e.x,y:e.y,type:e.clickAction},n=function(){var n=Object(O.a)(d.a.mark((function n(){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k("/api/games/".concat(e.id,"/click"),t);case 2:(a=n.sent).data.matrix&&e.setGame(a.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(o.jsxs)("button",{type:"button",onClick:n,children:[e.cellState===S.Checked?"\u2713":e.cellState===S.Flagged?"\u2691":e.cellState===S.Question?"?":" ",Object(o.jsx)("br",{})]})}function N(e){var t=e.game,n=e.setGame;return Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),t&&t.state&&t.matrix&&function(t){var a;return Object(o.jsx)(o.Fragment,{children:null===t||void 0===t||null===(a=t.matrix)||void 0===a?void 0:a.map((function(a,r){return Object(o.jsxs)(o.Fragment,{children:[a.map((function(a,c){var s,i,u,j,l,b;return Object(o.jsx)(o.Fragment,{children:(null===t||void 0===t||null===(s=t.matrix)||void 0===s||null===(i=s[r])||void 0===i||null===(u=i[c])||void 0===u?void 0:u.state)&&Object(o.jsx)(I,{x:r,y:c,cellState:null===t||void 0===t||null===(j=t.matrix)||void 0===j||null===(l=j[r])||void 0===l||null===(b=l[c])||void 0===b?void 0:b.state,setGame:n,id:e.id,clickAction:e.clickAction})})})),Object(o.jsx)("br",{})]})}))})}(t),Object(o.jsx)("br",{}),"Game State: ".concat(null===t||void 0===t?void 0:t.state)]})}var A=[S.Checked,S.Flagged,S.Question];function G(){var e=Object(u.g)().id,t=Object(u.f)(),n=Object(a.useState)(S.Checked),r=Object(h.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(),j=Object(h.a)(i,2),l=j[0],b=j[1],p=function(){var n=Object(O.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k("/api/games/".concat(e,"/state"));case 2:t.push("/menu");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),m=function(){var t=Object(O.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("/api/games/".concat(e));case 2:if(200!==(n=t.sent).status){t.next=6;break}return console.log(n.data),t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(O.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:(n=e.sent)&&([F.Lost,F.Won].includes(null===n||void 0===n?void 0:n.state)&&(alert("\u1ef2ou have ".concat(null===n||void 0===n?void 0:n.state)),t.push("/menu")),b(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m,l]),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){var e=A.indexOf(c);s(A[2!==e?e+1:0])},children:c===S.Checked?"Click":c===S.Flagged?"Flag":c}),Object(o.jsx)("br",{}),l&&Object(o.jsx)(N,{id:e,game:l,setGame:b,clickAction:c}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"button",onClick:p,children:"Save Game"}),Object(o.jsx)("br",{}),Object(o.jsx)(x,{path:"/menu"})]})}function L(){var e=Object(u.f)(),t=Object(a.useState)({email:"",password:"",lastName:"",firstName:""}),n=Object(h.a)(t,2),r=n[0],c=n[1];function s(){return(s=Object(O.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w("/api/user/register",Object(b.a)({},r));case 2:200===(null===(n=t.sent)||void 0===n?void 0:n.status)&&e.push("/");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(e){var t=e.target.value;c(Object(b.a)(Object(b.a)({},r),{},Object(l.a)({},e.target.name,t)))}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("form",{children:[Object(o.jsxs)("label",{children:["Name:",Object(o.jsx)("input",{type:"text",value:r.firstName,name:"firstName",onChange:i})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["LastName:",Object(o.jsx)("input",{type:"text",value:r.lastName,name:"lastName",onChange:i})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Email:",Object(o.jsx)("input",{type:"text",value:r.email,name:"email",onChange:i})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Password:",Object(o.jsx)("input",{type:"password",value:r.password,name:"password",onChange:i})]}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"button",onClick:function(){return s.apply(this,arguments)},children:"Register"})]}),Object(o.jsx)("br",{}),Object(o.jsx)(x,{path:"/"})]})}function z(){var e=Object(a.useState)(),t=Object(h.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){(function(){var e=Object(O.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/api/games/ongoing");case 2:200===(t=e.sent).status&&r(t.data.games);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(o.jsxs)("div",{children:[null===n||void 0===n?void 0:n.map((function(e,t){return Object(o.jsxs)("div",{onClick:(n=null===e||void 0===e?void 0:e.gameId,function(){var e=Object(O.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/api/games/".concat(n,"/state"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),children:[Object(o.jsx)(x,{path:"/minesweeper/".concat(e.gameId),message:"SLOT ".concat(t," - Game ID: ").concat(e.gameId)}),Object(o.jsx)("br",{})]});var n})),Object(o.jsx)("br",{}),Object(o.jsx)(x,{path:"/menu"})]})}var P=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)("header",{className:"App-header",children:Object(o.jsxs)(i.a,{basename:"/minesweeper_react",children:[Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{exact:!0,path:"/",children:Object(o.jsx)(C,{})}),Object(o.jsx)(u.a,{exact:!0,path:"/registry",children:Object(o.jsx)(L,{})}),Object(o.jsx)(u.a,{exact:!0,path:"/menu",children:Object(o.jsx)(y,{})}),Object(o.jsx)(u.a,{exact:!0,path:"/saved-games",children:Object(o.jsx)(z,{})}),Object(o.jsx)(u.a,{exact:!0,path:"/minesweeper/:id",children:Object(o.jsx)(G,{})})]}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)(j,{})]})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(P,{})}),document.getElementById("root")),E()}},[[64,1,2]]]);
//# sourceMappingURL=main.50211f7b.chunk.js.map