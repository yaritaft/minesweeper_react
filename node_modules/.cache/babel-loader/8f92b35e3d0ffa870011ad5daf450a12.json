{"ast":null,"code":"import _defineProperty from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{apiPost}from\"../services/requestService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function GameMenu(){var _useState=useState({rows:0,columns:0,amountOfMines:0}),_useState2=_slicedToArray(_useState,2),gameInfo=_useState2[0],setGameInfo=_useState2[1];var history=useHistory();var handleNewGame=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _response$data;var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return apiPost(\"/api/games\",gameInfo);case 2:response=_context.sent;if(response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.gameId){history.push(\"/minesweeper/\".concat(response.data.gameId));}case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleNewGame(){return _ref.apply(this,arguments);};}();function handleChange(event){var value=event.target.value;setGameInfo(_objectSpread(_objectSpread({},gameInfo),{},_defineProperty({},event.target.name,Number(value))));}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Rows\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"rows\",value:gameInfo.rows,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Columns\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"columns\",value:gameInfo.columns,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Amount of mines\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amountOfMines\",value:gameInfo.amountOfMines,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleNewGame,children:\"New Game\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"/saved-games\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:\"Load Game\"})})]});}","map":{"version":3,"sources":["/home/yari/Desktop/minesweeper_react/src/pages/GameMenu.tsx"],"names":["React","useState","useHistory","apiPost","GameMenu","rows","columns","amountOfMines","gameInfo","setGameInfo","history","handleNewGame","response","data","gameId","push","handleChange","event","value","target","name","Number"],"mappings":"qwBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,4BAAxB,C,wFAgBA,MAAO,SAASC,CAAAA,QAAT,EAAiC,CACpC,cAAgCH,QAAQ,CAAQ,CAC5CI,IAAI,CAAE,CADsC,CAE5CC,OAAO,CAAE,CAFmC,CAG5CC,aAAa,CAAE,CAH6B,CAAR,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAKA,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CACA,GAAMS,CAAAA,aAAa,0FAAG,yLACKR,CAAAA,OAAO,CAAkB,YAAlB,CAAgCK,QAAhC,CADZ,QACZI,QADY,eAElB,GAAGA,QAAH,SAAGA,QAAH,iCAAGA,QAAQ,CAAEC,IAAb,yCAAG,eAAgBC,MAAnB,CAA0B,CACtBJ,OAAO,CAACK,IAAR,wBAA6BH,QAAQ,CAACC,IAAT,CAAcC,MAA3C,GACH,CAJiB,sDAAH,kBAAbH,CAAAA,aAAa,0CAAnB,CAOA,QAASK,CAAAA,YAAT,CAAsBC,KAAtB,CAAwE,CACpE,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B,CACAT,WAAW,gCACND,QADM,wBAERS,KAAK,CAACE,MAAN,CAAaC,IAFL,CAEYC,MAAM,CAACH,KAAD,CAFlB,GAAX,CAID,CAEL,mBACE,oCACE,6CACD,cAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,MAA1B,CAAiC,KAAK,CAAEV,QAAQ,CAACH,IAAjD,CAAuD,QAAQ,CAAEW,YAAjE,EADC,GADF,cAGS,aAHT,cAIC,gDACA,cAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,SAA1B,CAAoC,KAAK,CAAER,QAAQ,CAACF,OAApD,CAA6D,QAAQ,CAAEU,YAAvE,EADA,GAJD,cAMS,aANT,cAOC,wDACA,cAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,eAA1B,CAA0C,KAAK,CAAER,QAAQ,CAACD,aAA1D,CAAyE,QAAQ,CAAES,YAAnF,EADA,GAPD,cASS,aATT,cAUI,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEL,aAA/B,sBAVJ,cAWA,aAXA,cAYE,UAAG,IAAI,CAAC,cAAR,uBACE,eAAQ,IAAI,CAAC,QAAb,uBADF,EAZF,GADF,CAkBD","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { apiPost } from \"../services/requestService\";\n\ninterface NewGameResponse {\n    data: {\n        gameId: string;\n    },\n    status: number;\n}\n\ninterface State {\n    rows: number;\n    columns: number;\n    amountOfMines: number;\n  }\n  \n\nexport function GameMenu(): JSX.Element {\n    const [gameInfo, setGameInfo] = useState<State>({\n        rows: 0,\n        columns: 0,\n        amountOfMines: 0,\n    });\n    const history = useHistory();\n    const handleNewGame = async ()=> {\n        const response = await apiPost<NewGameResponse>(\"/api/games\", gameInfo);\n        if(response?.data?.gameId){\n            history.push(`/minesweeper/${response.data.gameId}`);\n        }\n    }\n\n    function handleChange(event: React.ChangeEvent<HTMLInputElement>): void {\n        const value = event.target.value;\n        setGameInfo({\n          ...gameInfo,\n          [event.target.name]: Number(value),\n        });\n      }\n\n  return (\n    <div>\n      <label>Rows\n     <input type=\"number\" name=\"rows\" value={gameInfo.rows} onChange={handleChange} />\n     </label><br/>\n     <label>Columns\n     <input type=\"number\" name=\"columns\" value={gameInfo.columns} onChange={handleChange}></input>\n     </label><br/>\n     <label>Amount of mines\n     <input type=\"number\" name=\"amountOfMines\" value={gameInfo.amountOfMines} onChange={handleChange}></input>\n     </label><br/>\n        <button type=\"button\" onClick={handleNewGame}>New Game</button>\n    <br/>\n      <a href=\"/saved-games\">\n        <button type=\"button\">Load Game</button>\n      </a>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}