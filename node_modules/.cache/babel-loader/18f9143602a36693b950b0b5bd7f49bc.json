{"ast":null,"code":"import _regeneratorRuntime from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/yari/Desktop/minesweeper_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router\";import{apiPost}from\"../services/requestService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function Registry(){var history=useHistory();var _useState=useState({email:\"\",password:\"\",lastName:\"\",firstName:\"\"}),_useState2=_slicedToArray(_useState,2),registryInfo=_useState2[0],setRegistryInfo=_useState2[1];function handleSubmit(){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return apiPost(\"/api/user/register\",_objectSpread({},registryInfo));case 2:response=_context.sent;if((response===null||response===void 0?void 0:response.status)===200){history.push('/');}case 4:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleChange(event){var value=event.target.value;setRegistryInfo(_objectSpread(_objectSpread({},registryInfo),{},_defineProperty({},event.target.name,value)));}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registryInfo.firstName,name:\"firstName\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"LastName:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registryInfo.lastName,name:\"lastName\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registryInfo.email,name:\"email\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:registryInfo.password,name:\"password\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSubmit,children:\"Register\"})]}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:\"Go back\"})})]});}","map":{"version":3,"sources":["/home/yari/Desktop/minesweeper_react/src/pages/Registry.tsx"],"names":["React","useState","useHistory","apiPost","Registry","history","email","password","lastName","firstName","registryInfo","setRegistryInfo","handleSubmit","response","status","push","handleChange","event","value","target","name"],"mappings":"qwBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,OAAT,KAAwB,4BAAxB,C,6IAcA,MAAO,SAASC,CAAAA,QAAT,EAAiC,CACpC,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CACF,cAAwCD,QAAQ,CAAQ,CACtDK,KAAK,CAAE,EAD+C,CAEtDC,QAAQ,CAAE,EAF4C,CAGtDC,QAAQ,CAAE,EAH4C,CAItDC,SAAS,CAAE,EAJ2C,CAAR,CAAhD,wCAAOC,YAAP,eAAqBC,eAArB,eAFsC,QASvBC,CAAAA,YATuB,8IAStC,sKACyBT,CAAAA,OAAO,CAAW,oBAAX,kBACzBO,YADyB,EADhC,QACQG,QADR,eAIE,GAAI,CAAAA,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEC,MAAV,IAAmB,GAAvB,CAA4B,CACxBT,OAAO,CAACU,IAAR,CAAa,GAAb,EACH,CANH,sDATsC,+CAkBtC,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAAwE,CACtE,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B,CACAP,eAAe,gCACVD,YADU,wBAEZO,KAAK,CAACE,MAAN,CAAaC,IAFD,CAEQF,KAFR,GAAf,CAID,CAED,mBACE,wCACE,qCACE,8CAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAER,YAAY,CAACD,SAFtB,CAGE,IAAI,CAAC,WAHP,CAIE,QAAQ,CAAEO,YAJZ,EAFF,GADF,cAUE,aAVF,cAWE,kDAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEN,YAAY,CAACF,QAFtB,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAEQ,YAJZ,EAFF,GAXF,cAoBE,aApBF,cAqBE,+CAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEN,YAAY,CAACJ,KAFtB,CAGE,IAAI,CAAC,OAHP,CAIE,QAAQ,CAAEU,YAJZ,EAFF,GArBF,cA8BE,aA9BF,cA+BE,kDAEE,cACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAEN,YAAY,CAACH,QAFtB,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAES,YAJZ,EAFF,GA/BF,cAwCE,aAxCF,cAyCE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEJ,YAA/B,sBAzCF,GADF,cA4CE,UAAG,IAAI,CAAC,GAAR,uBACE,eAAQ,IAAI,CAAC,QAAb,qBADF,EA5CF,GADF,CAkDD","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { apiPost } from \"../services/requestService\";\n\ninterface State {\n  email: string;\n  password: string;\n  firstName: string;\n  lastName: string;\n}\n\ninterface Response {\n    data: object;\n    status: number;\n}\n\nexport function Registry(): JSX.Element {\n    const history = useHistory();\n  const [registryInfo, setRegistryInfo] = useState<State>({\n    email: \"\",\n    password: \"\",\n    lastName: \"\",\n    firstName: \"\",\n  });\n\n  async function handleSubmit(): Promise<any> {\n    const response = await apiPost<Response>(\"/api/user/register\", {\n      ...registryInfo,\n    });\n    if (response?.status===200) {\n        history.push('/');\n    }\n  }\n\n  function handleChange(event: React.ChangeEvent<HTMLInputElement>): void {\n    const value = event.target.value;\n    setRegistryInfo({\n      ...registryInfo,\n      [event.target.name]: value,\n    });\n  }\n\n  return (\n    <>\n      <form>\n        <label>\n          Name:\n          <input\n            type=\"text\"\n            value={registryInfo.firstName}\n            name=\"firstName\"\n            onChange={handleChange}\n          />\n        </label>\n        <br />\n        <label>\n          LastName:\n          <input\n            type=\"text\"\n            value={registryInfo.lastName}\n            name=\"lastName\"\n            onChange={handleChange}\n          />\n        </label>\n        <br />\n        <label>\n          Email:\n          <input\n            type=\"text\"\n            value={registryInfo.email}\n            name=\"email\"\n            onChange={handleChange}\n          />\n        </label>\n        <br />\n        <label>\n          Password:\n          <input\n            type=\"password\"\n            value={registryInfo.password}\n            name=\"password\"\n            onChange={handleChange}\n          />\n        </label>\n        <br />\n        <button type=\"button\" onClick={handleSubmit}>Register</button>\n      </form>\n      <a href=\"/\">\n        <button type=\"button\">Go back</button>\n      </a>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}